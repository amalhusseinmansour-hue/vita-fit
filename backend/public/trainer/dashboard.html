<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GYM - Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¯Ø±Ø¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }

        .navbar {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .navbar h1 {
            font-size: 28px;
            font-weight: 700;
        }

        .navbar .user-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .navbar .user-name {
            font-weight: 600;
        }

        .btn-logout {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid white;
            padding: 8px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-logout:hover {
            background: white;
            color: #1e3c72;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        .welcome-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
        }

        .welcome-section h2 {
            color: #1e3c72;
            font-size: 32px;
            margin-bottom: 10px;
        }

        .welcome-section p {
            color: #666;
            font-size: 16px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .stat-card .icon {
            font-size: 48px;
            margin-bottom: 15px;
        }

        .stat-card .number {
            font-size: 36px;
            font-weight: 700;
            color: #1e3c72;
            margin-bottom: 5px;
        }

        .stat-card .label {
            color: #666;
            font-size: 16px;
        }

        .section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
        }

        .section h3 {
            color: #1e3c72;
            font-size: 24px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e0e0e0;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .table th {
            background: #f5f7fa;
            color: #1e3c72;
            padding: 15px;
            text-align: right;
            font-weight: 600;
            border-bottom: 2px solid #e0e0e0;
        }

        .table td {
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
            color: #333;
        }

        .table tr:hover {
            background: #f9f9f9;
        }

        .badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
        }

        .badge-active {
            background: #d4edda;
            color: #155724;
        }

        .badge-pending {
            background: #fff3cd;
            color: #856404;
        }

        .badge-inactive {
            background: #f8d7da;
            color: #721c24;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .action-btn {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(42, 82, 152, 0.3);
        }

        .empty-state {
            text-align: center;
            padding: 40px;
            color: #999;
        }

        .empty-state-icon {
            font-size: 80px;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }

            .navbar {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .table {
                font-size: 14px;
            }

            .table th, .table td {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="navbar">
        <h1>ğŸ’ª GYM - Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¯Ø±Ø¨</h1>
        <div class="user-info">
            <span class="user-name" id="userName">Ù…Ø±Ø­Ø¨Ø§Ù‹</span>
            <button class="btn-logout" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
        </div>
    </div>

    <div class="container">
        <div class="welcome-section">
            <h2>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø¹ÙˆØ¯ØªÙƒ! ğŸ‰</h2>
            <p>Ø¥Ù„ÙŠÙƒ Ù†Ø¸Ø±Ø© Ø³Ø±ÙŠØ¹Ø© Ø¹Ù„Ù‰ Ù†Ø´Ø§Ø·Ø§ØªÙƒ Ø§Ù„ÙŠÙˆÙ…</p>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="icon">ğŸ‘¥</div>
                <div class="number" id="totalClients">0</div>
                <div class="label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ†</div>
            </div>

            <div class="stat-card">
                <div class="icon">âœ…</div>
                <div class="number" id="activeClients">0</div>
                <div class="label">Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ† Ø§Ù„Ù†Ø´Ø·ÙŠÙ†</div>
            </div>

            <div class="stat-card">
                <div class="icon">ğŸ“…</div>
                <div class="number" id="todaySessions">0</div>
                <div class="label">Ø¬Ù„Ø³Ø§Øª Ø§Ù„ÙŠÙˆÙ…</div>
            </div>

            <div class="stat-card">
                <div class="icon">â­</div>
                <div class="number" id="rating">4.8</div>
                <div class="label">Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</div>
            </div>
        </div>

        <div class="section">
            <h3>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø©</h3>
            <div class="quick-actions">
                <button class="action-btn" onclick="alert('Ù‚Ø±ÙŠØ¨Ø§Ù‹: Ø¥Ø¶Ø§ÙØ© Ø®Ø·Ø© ØªÙ…Ø§Ø±ÙŠÙ† Ø¬Ø¯ÙŠØ¯Ø©')">
                    ğŸ“ Ø®Ø·Ø© ØªÙ…Ø§Ø±ÙŠÙ† Ø¬Ø¯ÙŠØ¯Ø©
                </button>
                <button class="action-btn" onclick="alert('Ù‚Ø±ÙŠØ¨Ø§Ù‹: Ø¬Ø¯ÙˆÙ„Ø© Ø¬Ù„Ø³Ø© ØªØ¯Ø±ÙŠØ¨ÙŠØ©')">
                    ğŸ“… Ø¬Ø¯ÙˆÙ„Ø© Ø¬Ù„Ø³Ø©
                </button>
                <button class="action-btn" onclick="alert('Ù‚Ø±ÙŠØ¨Ø§Ù‹: Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ†')">
                    ğŸ’¬ Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©
                </button>
                <button class="action-btn" onclick="alert('Ù‚Ø±ÙŠØ¨Ø§Ù‹: Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±')">
                    ğŸ“Š Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
                </button>
            </div>
        </div>

        <div class="section">
            <h3>Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ† Ø§Ù„Ù…Ø³Ø¬Ù„ÙŠÙ†</h3>
            <div id="clientsTableContainer">
                <div class="empty-state">
                    <div class="empty-state-icon">ğŸ“‹</div>
                    <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ†...</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h3>Ø§Ù„Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</h3>
            <div id="sessionsContainer">
                <div class="empty-state">
                    <div class="empty-state-icon">ğŸ“…</div>
                    <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¬Ù„Ø³Ø§Øª Ù…Ø¬Ø¯ÙˆÙ„Ø© Ø­Ø§Ù„ÙŠØ§Ù‹</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const API_URL = 'http://localhost:5000/api';

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        function checkAuth() {
            const token = localStorage.getItem('token');
            const user = JSON.parse(localStorage.getItem('user') || '{}');

            if (!token || user.role !== 'trainer') {
                window.location.href = 'index.html';
                return;
            }

            document.getElementById('userName').textContent = `Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ ${user.name}`;
            loadDashboardData();
        }

        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
        function logout() {
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            window.location.href = 'index.html';
        }

        // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
        async function loadDashboardData() {
            const token = localStorage.getItem('token');

            try {
                // Ù…Ø­Ø§ÙƒØ§Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø¹Ø±Ø¶ (ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡Ø§ Ø¨Ù€ API Ø­Ù‚ÙŠÙ‚ÙŠ)
                setTimeout(() => {
                    document.getElementById('totalClients').textContent = '15';
                    document.getElementById('activeClients').textContent = '12';
                    document.getElementById('todaySessions').textContent = '3';

                    displayClientsTable();
                }, 500);
            } catch (error) {
                console.error('Error loading dashboard data:', error);
            }
        }

        // Ø¹Ø±Ø¶ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ†
        function displayClientsTable() {
            const container = document.getElementById('clientsTableContainer');

            // Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©
            const clients = [
                { name: 'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯', status: 'Ù†Ø´Ø·', sessions: 24, lastSession: '2025-11-14' },
                { name: 'Ø³Ø§Ø±Ø© Ø£Ø­Ù…Ø¯', status: 'Ù†Ø´Ø·', sessions: 18, lastSession: '2025-11-13' },
                { name: 'Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ', status: 'Ù†Ø´Ø·', sessions: 31, lastSession: '2025-11-14' },
                { name: 'ÙØ§Ø·Ù…Ø© Ø­Ø³Ù†', status: 'Ù…Ø¹Ù„Ù‚', sessions: 12, lastSession: '2025-11-10' },
                { name: 'Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø®Ø§Ù„Ø¯', status: 'Ù†Ø´Ø·', sessions: 20, lastSession: '2025-11-12' },
            ];

            container.innerHTML = `
                <table class="table">
                    <thead>
                        <tr>
                            <th>Ø§Ø³Ù… Ø§Ù„Ù…ØªØ¯Ø±Ø¨</th>
                            <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                            <th>Ø¹Ø¯Ø¯ Ø§Ù„Ø¬Ù„Ø³Ø§Øª</th>
                            <th>Ø¢Ø®Ø± Ø¬Ù„Ø³Ø©</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${clients.map(client => `
                            <tr>
                                <td>${client.name}</td>
                                <td><span class="badge ${client.status === 'Ù†Ø´Ø·' ? 'badge-active' : 'badge-pending'}">${client.status}</span></td>
                                <td>${client.sessions}</td>
                                <td>${client.lastSession}</td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            `;
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
        checkAuth();
    </script>
</body>
</html>
